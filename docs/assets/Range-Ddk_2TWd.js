import{d as S,B as T,C as H,b as L,r as m,c as z,s as x,w as R,e as g,n as $,f as A,v as I,t as N,o as j,_ as q}from"./index-DJEm5-U9.js";const F=S({__name:"Range",props:T({min:{default:0},max:{default:100},step:{default:1},r:{default:20},height:{default:4},bgColor:{default:"#ddd"},activeColor:{default:"#000"},color:{default:"#000"},sliderThumbColor:{default:"#000"},tooltipColor:{default:"#fff"},tooltipBorderColor:{default:"#ddd"},value:{},format:{},alwayShowTooltip:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:T(["change","input"],["update:modelValue"]),setup(B,{emit:V}){const n=H(B,"modelValue"),w=V,c=B,u=L("lineRef"),a=m(0),p=m(!0),M=m(!0),f=m(0),C=m(0),b=m(!1);function X(){const{format:t}=c,e=p.value?C.value:f.value;return t?t(e):e}function y(){const{max:t,value:e}=c;let l=0;return e?(C.value=e,l=e/t):typeof n.value=="number"&&(C.value=n.value,l=n.value),u.value?u.value.getBoundingClientRect().width*l:0}let h=0;function k(){c.value!==0&&(h=y()),M.value=!1,p.value=!1,b.value=!0;const{step:t,min:e,max:l}=c;if(!u.value)return 0;h&&(a.value=h);const v=d=>{const{clientX:o}=d;if(!u.value)return;const s=u.value.getBoundingClientRect();if(typeof t!="number")a.value=o-s.left,a.value=Math.max(0,Math.min(a.value,s.width));else{let i=(o-s.left)/s.width;i=Math.max(0,Math.min(i,1)),i=i*(l-e)+e,i=Math.round(i/t)*t,i=Math.max(e,Math.min(i,l));let E=(i-e)/(l-e);a.value=E*s.width}f.value=a.value/s.width*l,typeof n.value=="number"&&(n.value=f.value),w("input",f.value)},r=()=>{u.value&&(w("change",f.value),typeof n.value=="number"&&(n.value=f.value),h=a.value,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",r),b.value=!1,p.value=!0,M.value=!0)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",r)}function D(t){const{clientX:e}=t;if(!u.value)return;const l=u.value.getBoundingClientRect(),{step:v,min:r,max:d}=c;if(typeof v!="number")a.value=e-l.left,a.value=Math.max(0,Math.min(a.value,l.width));else{let o=(e-l.left)/l.width;o=Math.max(0,Math.min(o,1)),o=o*(d-r)+r,o=Math.round(o/v)*v,o=Math.max(r,Math.min(o,d));let s=(o-r)/(d-r);a.value=s*l.width}typeof n.value=="number"&&(n.value=a.value/l.width*d),w("change",a.value/l.width*d)}return(t,e)=>(j(),z("div",{onClick:D,ref:"rangeRef",onDragstart:e[2]||(e[2]=R(()=>{},["prevent"])),class:"range",style:x({"--r":t.r+"px","--height":t.height+"px","--bg-color":t.bgColor,"--active-color":t.activeColor,"--color":t.color,"--sliderThumb-color":t.sliderThumbColor,"--tooltip-color":t.tooltipColor,"--tooltip-border-color":t.tooltipBorderColor})},[g("div",{class:$([{"active-transition":M.value},"slider-thumb"]),onDragstart:e[0]||(e[0]=R(()=>{},["prevent"])),onMousedown:k,style:x({transform:`translateX(${p.value?y():a.value}px)`})},[A(g("div",{class:"tooltip"},N(X()),513),[[I,t.alwayShowTooltip||b.value]])],38),g("div",{onDragstart:e[1]||(e[1]=R(()=>{},["prevent"])),ref_key:"lineRef",ref:u,class:"line"},[g("div",{class:"line-hide",style:x({transform:`translateX(${p.value?y():a.value}px)`})},null,4)],544)],36))}}),J=q(F,[["__scopeId","data-v-dfc4f35e"]]);export{J as R};
